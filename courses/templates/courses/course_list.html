{% extends "base_generic.html" %}

{% block content %}
  <h2>Courses</h2>
  <ul>
    {% for course in courses %}
      <li>
        <div class="flex justify-between shadow-cyan-500/50 h-16">
          <a href="{% url 'course_detail' course.id %}">{{ course.title }}</a>
          {% if course.id in notes %}
          <span><svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M26.9375 38.3958H31.5208V31.5208H38.3958V26.9375H31.5208V20.0625H26.9375V26.9375H20.0625V31.5208H26.9375V38.3958ZM12.0416 41.8333V16.5677C12.0416 15.3073 12.5 14.2378 13.4166 13.3594C14.3333 12.4809 15.4219 12.0416 16.6823 12.0416H41.8333C43.0937 12.0416 44.1731 12.49 45.0714 13.3869C45.9698 14.2837 46.4182 15.363 46.4166 16.625V34.9583L34.9583 46.4166H16.625C15.3646 46.4166 14.286 45.9682 13.3891 45.0714C12.4923 44.1746 12.0432 43.0953 12.0416 41.8333ZM0.640606 10.3229C0.411439 9.06248 0.659702 7.92658 1.3854 6.91519C2.11109 5.9038 3.10415 5.28276 4.36456 5.05206L29.2291 0.640606C30.4896 0.411439 31.6262 0.659702 32.6391 1.3854C33.6521 2.11109 34.2723 3.10415 34.5 4.36456L35.0729 7.45831H16.625C14.1041 7.45831 11.9462 8.35588 10.151 10.151C8.35588 11.9462 7.45831 14.1041 7.45831 16.625V38.5104C6.8472 38.1666 6.32241 37.7083 5.88394 37.1354C5.44547 36.5625 5.16817 35.9132 5.05206 35.1875L0.640606 10.3229Z" fill="#00FF47"/>
            </svg>
            </span>
        {% else %}
          <a href="{% url 'add_note' course.id %}"><svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M26.9375 38.3958H31.5208V31.5208H38.3958V26.9375H31.5208V20.0625H26.9375V26.9375H20.0625V31.5208H26.9375V38.3958ZM12.0416 41.8333V16.5677C12.0416 15.3073 12.5 14.2378 13.4166 13.3594C14.3333 12.4809 15.4219 12.0416 16.6823 12.0416H41.8333C43.0937 12.0416 44.1731 12.49 45.0714 13.3869C45.9698 14.2837 46.4182 15.363 46.4166 16.625V34.9583L34.9583 46.4166H16.625C15.3646 46.4166 14.286 45.9682 13.3891 45.0714C12.4923 44.1746 12.0432 43.0953 12.0416 41.8333ZM0.640606 10.3229C0.411439 9.06248 0.659702 7.92658 1.3854 6.91519C2.11109 5.9038 3.10415 5.28276 4.36456 5.05206L29.2291 0.640606C30.4896 0.411439 31.6262 0.659702 32.6391 1.3854C33.6521 2.11109 34.2723 3.10415 34.5 4.36456L35.0729 7.45831H16.625C14.1041 7.45831 11.9462 8.35588 10.151 10.151C8.35588 11.9462 7.45831 14.1041 7.45831 16.625V38.5104C6.8472 38.1666 6.32241 37.7083 5.88394 37.1354C5.44547 36.5625 5.16817 35.9132 5.05206 35.1875L0.640606 10.3229Z" fill="white"/>
            </svg>
            </a>
        {% endif %}
        </div>
        <p>{{ course.description }}</p>
        <div class="flex justify-between">
        {% if course.id in enrollments %}
          <span>You are enrolled</span>
        {% else %}
          <a style="border: 1px solid aqua; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;" class="mt-6 bg-emerald-800 p-2 rounded-md m-auto w-fit text-lime-100" href="{% url 'enroll' course.id %}">Enroll</a>
        {% endif %}
        </div>
      </li>
    {% endfor %}
  </ul>
{% endblock %}

